<html>
  <head>
    <title>Matching Game</title>

    <style>
      p,h1{
        text-align:center;
        font-family: helvetica;
      }
      div{
      position:absolute;
        width: 688px;
        height:500px;
      }
      #rightSide{
      left:688px;
        border-left: 1px solid black;
      }
      img{
        position:absolute;
      }
    </style>

  </head>

  <body>
    <h1><u>Matching Game</u></h1>
    <p>Click on the missing face from the right side.</p>
    <div id="leftSide"></div>
    <div id="rightSide"></div>

  <script>

  var theLeftSide = document.getElementById("leftSide");
  var theRightSide = document.getElementById("rightSide");
  var theBody = document.getElementsByTagName("body")[0];
  var numberOfFaces = 5;
  window.load= generateFaces();

  function generateFaces(){
  var iterations = 1;
    while(iterations <= numberOfFaces){

      var img = document.createElement("img");
      img.src="http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";

      var random1 = Math.random()*400;
      var random_top = Math.floor(random1);
      img.style.top=random_top;

      var random2 = Math.random()*588;
      var random_left = Math.floor(random2);
      img.style.left = random_left;

      theLeftSide.appendChild(img);
      iterations++;
   }
    var clone = theLeftSide.cloneNode(true);
    clone.removeChild(clone.lastChild);
    theRightSide.appendChild(clone);

    theLeftSide.lastChild.onclick = function nextLevel(event){

    event.stopPropagation();
    numberOfFaces+=5;
    console.log("faces = "+numberOfFaces);
    while(theLeftSide.firstChild){
      theLeftSide.removeChild(theLeftSide.firstChild);
    }
    while(theRightSide.firstChild){
      theRightSide.removeChild(theRightSide.firstChild);
    }

    generateFaces();
  };

  theBody.onclick = function gameOver(){

  alert("Game Over");
  theBody.onclick = null;
  theLeftSide.lastChild.onclick = null;

  };

}
  </script>


  </body>

</html>
